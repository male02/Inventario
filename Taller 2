package umariana.producto;
import java.util.ArrayList;
import java.util.Scanner;

/**
 *
 * @author Maria Vallejo/ Juliana muñoz
 */
public class Taller2 {

  private ArrayList<Productos>misProductos;
  private Scanner lector;
  
  public Taller2(){
      misProductos = new ArrayList<>();
      lector = new Scanner (System.in);
  }
  
  public void mostrarMenu(){
      boolean activo=true;
      
      do{
          System.out.println("=============MENU DE OPCIONES============="
          +"1.Agregar producto\n"
          +"2.Mostrar productos\n"
          +"3.Eliminar productos\n"
          +"4.Terminar programa\n");
          
          int opcion=lector.nextInt();
          switch(opcion){
            case 1:
                  añadirProducto();
            break;
            
            case 2: 
                listaProductos();
            break;
            
            case 3:
                eliminarProducto();
            break;
            
            case 4:
                activo=false;
                System.out.println("Programa terminado");
            break;
            default:
                System.out.println("Opcion no valida, intentalo nuevamente");
                
            }
        }
      while(activo);
  }

    private void añadirProducto() {
        lector.nextLine();
        System.out.println("Ingrese el nombre del producto: ");
        String nomProducto = lector.nextLine();
        
        System.out.println("Ingrese el Id del producto: ");
        int idProducto =lector.nextInt(); 
        System.out.println("Ingrese el precio del producto: ");
        double precio =lector.nextDouble();
        System.out.println("Ingrese la cantidad del producto: ");
        int cantidad = lector.nextInt();
        System.out.println("===========================================");
        
        Productos nuevoProducto = new Productos(nomProducto, precio, cantidad, idProducto);
        misProductos.add(nuevoProducto);
        System.out.println("El producto fue agregado");
    }

    private void listaProductos() {
       if(misProductos.isEmpty()){
           System.out.println("No hay productos registrados");
       } else{
           System.out.println("==========PRODUCTOS==========");
           for(int i=0;i<misProductos.size(); i++){
               for(int j=i+1;j<misProductos.size();j++){
                   Productos producto1 = misProductos.get(i);
                   Productos producto2 = misProductos.get(j);
                   if(producto1.getCantidad()>producto2.getCantidad()){
                       misProductos.set(i, producto2);
                       misProductos.set(j, producto1);
                   }
               }
           }
           for(Productos producto: misProductos){
               System.out.println("Id:"
                       + producto.getIdProducto());
               System.out.println("Nombre: "
                       + producto.getNombreProducto());
               System.out.println("cantidad :"
                       + producto.getCantidad());
               System.out.println("precio:"
                       + producto.getPrecio());
               System.out.println("===============================");
           }
       }
    }

    public void eliminarProducto() {
        System.out.println("Ingrese el Id del producto que desea eliminar");
        int id = lector.nextInt();
        
        Iterator<Productos>it=misProductos.iterator();
        while (it.hasNext()){
            Productos p=it.next();
            if(p.getIdProducto()==id)
            it.remove();
        }
        System.out.println("producto con id: "
                + id + " eliminado");
    
    }
    public static void main(String[]args){
        Taller2 organizador =new Taller2();
        organizador.mostrarMenu();
        
    }
    
    
}
